<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ruang Data Telemedia</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        crossorigin="anonymous" />
    <link rel="stylesheet" href="css/self.css" />
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <style>
        /* CSS yang telah ada, tidak ada perubahan */
    </style>
</head>

<body>
    <div id="splash-screen"
        style="display: flex; justify-content: center; align-items: center; height: 100vh; background-color: #fff;">
        <button class="login-btn" id="enter-fullscreen">ENTER FULLSCREEN</button>
    </div>
    <section class="form-login container-fluid mt-5 pt-2" id="main-content" style="display: none;">
        <!-- Konten login -->
    </section>
    <!-- Popup errors tetap ada -->
    <script>
        $(document).ready(function () {
            let currentInput = '';
            function formatPhoneNumber(phone) {
                let value = phone.replace(/\D/g, '');
                if (value.length > 4 && value.length <= 8) {
                    return value.replace(/(\d{4})(\d+)/, '$1-$2');
                } else if (value.length > 8) {
                    return value.replace(/(\d{4})(\d{4})(\d+)/, '$1-$2-$3');
                }
                return value;
            }

            // Fallback Fullscreen Button
            $("#enter-fullscreen").on("click", function () {
                const body = document.body;
                if (body.requestFullscreen) {
                    body.requestFullscreen().catch((err) => {
                        console.log("Fullscreen request failed: ", err);
                        alert("Fullscreen tidak dapat diaktifkan.");
                    });
                } else if (body.webkitRequestFullscreen) { // Safari
                    body.webkitRequestFullscreen();
                } else if (body.msRequestFullscreen) { // IE/Edge
                    body.msRequestFullscreen();
                } else {
                    alert("Browser Anda tidak mendukung Fullscreen API. Melanjutkan tanpa fullscreen.");
                }

                $(this).prop("disabled", true);
                $("#splash-screen").hide();
                $("#main-content").show();
            });

            // Kalkulator nomor
            $('.button[data-number]').click(function () {
                const number = $(this).data('number');
                currentInput += number;
                $('#formatted-phone').val(formatPhoneNumber(currentInput));
                $('#raw-phone').val(currentInput);
            });

            // Menghapus karakter terakhir
            $('#delete').click(function () {
                currentInput = currentInput.slice(0, -1);
                $('#formatted-phone').val(formatPhoneNumber(currentInput));
                $('#raw-phone').val(currentInput);
            });

            // Menghapus semua input
            $('#clear').click(function () {
                currentInput = '';
                $('#formatted-phone').val('');
                $('#raw-phone').val('');
            });

            // Meng-update format input secara real-time
            $('#formatted-phone').on('input', function () {
                let value = $(this).val().replace(/\D/g, '');
                $('#formatted-phone').val(formatPhoneNumber(value));
                $('#raw-phone').val(value);
            });

            // Fungsi submit untuk menyalin nomor ke clipboard
            $('form').on('submit', function (event) {
                event.preventDefault();

                const nomor = $('#raw-phone').val(); // Ambil nomor mentah
                if (!nomor) {
                    alert("Nomor belum diisi!");
                    return;
                }

                // Salin ke clipboard
                navigator.clipboard.writeText(nomor).then(function () {
                    alert("Nomor berhasil disalin ke clipboard: " + nomor);
                }).catch(function (err) {
                    alert("Gagal menyalin ke clipboard: " + err);
                });
            });
            
            // Reset dan kembali ke halaman
            $('#reset-btn').on('click', function () {
                location.reload();
            });
            $('#back-btn').on('click', function () {
                location.reload();
            });
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>

</body>

</html>
